<section class="vh-100 py-5">
  <div class="container">

    <!-- رسالة الخطأ -->
    <div *ngIf="errorMessage" class="alert alert-danger llfmp-loading">
      {{ errorMessage }}
    </div>

    <!-- كارد المشروع -->
    <div *ngIf="project" class="card llfmp-card p-4 mb-4">
      <div class="card-body">
        <h2 class="card-title mb-3">{{ project.title }}</h2>
        <p class="card-text"><strong>Description:</strong> {{ project.description }}</p>
        <p class="card-text"><strong>Budget:</strong> <span class="text-primary fw-bold">{{ project.budget | currency }}</span></p>
        <p class="card-text"><strong>Skills Required:</strong>
          <span *ngFor="let skill of project.requiredSkills" class="skill-badge">
            {{ skill?.name }}
          </span>
        </p>
        <p class="card-text"><strong>Status:</strong> {{ project.status }}</p>

        <!-- أزرار الإجراءات -->
        <div class="mt-3 d-flex flex-wrap gap-2">
          <a [routerLink]="['/projects', project.id, 'bids']" class="llfmp-btn-sm">View Bids</a>
          <a *ngIf="auth.getUserRole()==='Freelancer'" [routerLink]="['/projects', project.id, 'bids', 'create']" class="llfmp-btn-success ">
            Create Bid
          </a>
        </div>
      </div>

      <!-- Footer Buttons -->
      <div class="card-footer d-flex justify-content-end gap-2">
        <button (click)="goBack()" class="llfmp-btn-sm btn-secondary">Go Back</button>
        <ng-container *ngIf="auth.getUserRole()==='Client' && auth.getUserId()===project.clientId">
          <button (click)="edit()" class="llfmp-btn-sm btn-primary">Edit</button>
          <button (click)="deleteProject()" class="llfmp-btn-sm btn-danger">Delete Project</button>
        </ng-container>
      </div>
    </div>

    <!-- Loading -->
    <div *ngIf="!project && !errorMessage" class="llfmp-loading">
      Loading project details...
    </div>

  </div>
</section>
